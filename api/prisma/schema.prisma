generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model admin {
  id       String  @id(map: "PK_e032310bcef831fb83101899b10") @default(uuid()) @db.Uuid
  email    String  @unique(map: "UQ_de87485f6489f5d0995f5841952") @db.VarChar
  password String  @db.VarChar
  name     String  @db.VarChar
  active   Boolean @default(true)
}

model application {
  id                     String                            @id(map: "PK_569e0c3e863ebdf5f2408ee1670") @default(uuid()) @db.Uuid
  created_at             DateTime                          @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  seekerId               String                            @db.Uuid
  jobId                  String                            @db.Uuid
  updated_at             DateTime                          @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  seekerName             String?                           @db.VarChar
  seekerPhone            String?                           @db.VarChar
  seekerEmail            String?                           @db.VarChar
  seekerShortDescription String?
  experiences            Json?                             @db.Json
  education              Json?                             @db.Json
  jobTitle               String?                           @db.VarChar
  jobContractType        application_jobcontracttype_enum?
  status                 application_status_enum           @default(APPLIED)
  seeker                 seeker                            @relation(fields: [seekerId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_76e40e7c10f3fcccc373c22a8e2")
  job                    job                               @relation(fields: [jobId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_dbc0341504212f830211b69ba0c")
  application_status     application_status[]
}

model application_status {
  id                String                         @id(map: "PK_7e957f206d5d171db7d25f57697") @default(uuid()) @db.Uuid
  applicationId     String                         @db.Uuid
  recruiterId       String                         @db.Uuid
  recruiterName     String?                        @db.VarChar
  recruiterResponse String?                        @db.VarChar
  status            application_status_status_enum @default(APPLIED)
  created_at        DateTime                       @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  updated_at        DateTime                       @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  application       application                    @relation(fields: [applicationId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_117f791db002e1fe951cf1eefb8")
  recruiter         recruiter                      @relation(fields: [recruiterId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_fbe321b8ee08015277d1c8d4302")
}

model hiring_company {
  id          String      @id(map: "PK_f71c2b2f0abd4ca2d59236051ea") @default(uuid()) @db.Uuid
  title       String      @db.VarChar
  description String?
  country     String      @db.VarChar
  createdAt   DateTime    @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  updatedAt   DateTime    @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  job         job[]
  recruiter   recruiter[]
}

model job {
  id             String                @id(map: "PK_98ab1c14ff8d1cf80d18703b92f") @default(uuid()) @db.Uuid
  title          String                @db.VarChar
  description    String
  country        String                @db.VarChar
  created_at     DateTime              @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  updated_at     DateTime              @default(dbgenerated("('now'::text)::timestamp(6) with time zone")) @db.Timestamp(6)
  publisherId    String                @db.Uuid
  companyId      String                @db.Uuid
  active         Boolean               @default(true)
  contractType   job_contracttype_enum
  application    application[]
  recruiter      recruiter             @relation(fields: [publisherId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_ce14aa44d30c4b64671bfd38f46")
  hiring_company hiring_company        @relation(fields: [companyId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e66170573cabd565dab1132727d")
}

model recruiter {
  id                 String               @id(map: "PK_e10c71ef86a9be2a6aead8eadfa") @default(uuid()) @db.Uuid
  email              String               @unique(map: "UQ_ec6610f232573009dfecae5bdf3") @db.VarChar
  password           String               @db.VarChar
  name               String               @db.VarChar
  companyAdmin       Boolean              @default(false)
  companyId          String?              @db.Uuid
  active             Boolean              @default(true)
  application_status application_status[]
  job                job[]
  hiring_company     hiring_company?      @relation(fields: [companyId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c55c06de5bcab4f6a2ebb8d1810")
}

model seeker {
  id          String        @id(map: "PK_40c70b62e7b0087bdd3f383ed3b") @default(uuid()) @db.Uuid
  email       String        @unique(map: "UQ_90fe9533a68edaa27a93520821f") @db.VarChar
  password    String        @db.VarChar
  name        String        @db.VarChar
  phone       String        @unique(map: "UQ_69f13d8a5dbbe5a60931b82c4ef") @db.VarChar
  active      Boolean       @default(true)
  experiences Json?         @db.Json
  education   Json?         @db.Json
  application application[]
}

enum application_jobcontracttype_enum {
  FULL_TIME
  PART_TIME
  FREELANCE
  INTERNSHIP
}

enum application_status_enum {
  APPLIED
  INTERVIEW
  OFFER
  HIRED
  REJECTED
  WITHDRAWN
  ACCEPTED
  DECLINED
}

enum application_status_status_enum {
  APPLIED
  INTERVIEW
  OFFER
  HIRED
  REJECTED
  WITHDRAWN
  ACCEPTED
  DECLINED
}

enum job_contracttype_enum {
  FULL_TIME
  PART_TIME
  FREELANCE
  INTERNSHIP
}
